<!doctype html>
<html lang="en">

<head>
  <title>建筑节能系统</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <!-- VENDOR CSS -->
  <link rel="stylesheet" href="../vendor/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="../vendor/select/css/selectordie.css">
  <link rel="stylesheet" href="../vendor/select/css/selectordie_theme.css">
  <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">
  <!-- MAIN CSS -->
  <link rel="stylesheet" href="../css/main.css">
  <!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
  <link rel="stylesheet" href="../css/demo.css">
</head>

<body>
  <!-- WRAPPER -->
  <div id="wrapper">
    <!-- NAVBAR -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="brand">
        <a href="index.html"><img src="../img/logo.png" alt="Logo" class="img-responsive logo"></a>
      </div>
      <div class="container-fluid">
        <div class="navbar-btn">
          <button type="button" class="btn-toggle-fullwidth"><i class="fa fa-outdent"></i></button><span>建筑能源管理系统</span>
        </div>
        <div class="navbar-middle navbar-left">
          <i class="fa fa-calendar"></i>
          <span>2017年7月11日 星期三</span>
          <span>|</span>
          <i class="fa fa-clock-o"></i>
          <span>12:09:45</span>
          <span>|</span>
          <i class="fa fa-cloud"></i>
          <span>北京 晴 20~30℃</span>
        </div>
        <div class="navbar-right">
          <ul class="nav navbar-nav navbar-right">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user-circle-o"></i> <span>admin某某，欢迎您</span> <i class="fa fa-angle-down"></i></a>
              <ul class="dropdown-menu">
                <li>
                  <a href="help.html"> <i class="glyphicon glyphicon-question-sign"></i>帮助</a>
                </li>
                <li>
                  <a href="password.html"> <i class="fa fa-pencil"></i>修改密码</a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle icon-menu" data-toggle="dropdown">
                                <i class="fa fa-bell"></i>
                                <span class="badge bg-danger">5</span>
                            </a>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-power-off"></i><span>退出</span> <i class="fa fa-angle-down"></i></a>
              <ul class="dropdown-menu">
                <li>
                  <a href="jikong.html"> <i class="fa fa-reply-all"></i>返回集控</a>
                </li>
                <li><a href="login.html"><i class="glyphicon glyphicon-log-out"></i>退出系统</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- END NAVBAR -->
    <!-- LEFT SIDEBAR -->
    <div id="sidebar-nav" class="sidebar">
      <div class="sidebar-scroll">
        <nav>
          <ul class="nav">
            <li><a href="index.html"><i class="fa fa-dashboard"></i> <span>负荷概况</span></a></li>
            <li>
              <a href="#subPages" class="active" data-toggle="collapse" class="collapsed"><i class="fa fa-battery-3"></i> <span>能耗管理</span> <i class="icon-submenu fa fa-angle-left"></i></a>
              <div id="subPages" class="collapse ">
                <ul class="nav-submenu">
                  <li><a href="nhgl-dlcx.html" class=""><i class="fa fa-search"></i>电力查询</a></li>
                  <li><a href="nhgl-nhqs.html" class=""><i class="fa fa-area-chart"></i>能耗趋势</a></li>

                </ul>
              </div>
            </li>
            <li><a href="dljk.html"><i class="fa fa-bolt"></i> <span>电力监控</span></a></li>
            <li><a href="wltpt.html"><i class="fa fa-globe"></i> <span>网络拓扑图</span></a></li>
            <li><a href="bjgl.html"><i class="fa fa-bell-o"></i> <span>报警管理</span></a></li>
            <li><a href="bbsc.html"><i class="fa fa-file-text"></i> <span>报表输出</span></a></li>
            <li><a href="czjl.html"><i class="fa fa-pencil"></i> <span>操作记录</span></a></li>
          </ul>
        </nav>
        <div class="sidebar-nav-bottom">建筑节能系统</div>
      </div>
    </div>
    <!-- END LEFT SIDEBAR -->
    <!-- MAIN -->
    <div class="main">
      <!-- MAIN CONTENT -->
      <div class="main-content">
        <div>
          <div class="build-crumb clearfix">
            <ul>
              <li><i class="fa fa-area-chart"></i></li>
              <li class="active">能耗趋势</li>
            </ul>
          </div>

          <div class="right-main">
            <div class="col-md-6 mb20">
              <div class="building-border border-radius bg-blue p20">
                <div class="panel-build">
                  <div class="panel-build-title mb10">
                    <span>当日逐时能耗同比</span>
                  </div>
                  <div class="panel-build-body">
                    <div id="canvas5" class="canvas5"></div>
                  </div>
                </div>

              </div>
            </div>
            <div class="col-md-6 mb20">
              <div class="building-border border-radius bg-blue p20">
                <div class="panel-build">
                  <div class="panel-build-title mb10">
                    <span>日能耗同比</span>
                  </div>
                  <div class="panel-build-body">
                    <div id="canvas6" class="canvas6"></div>
                  </div>
                </div>

              </div>
            </div>
            <div class="col-md-6 mb20">
              <div class="building-border border-radius bg-blue p20">
                <div class="panel-build">
                  <div class="panel-build-title mb10">
                    <span>月能耗同比</span>
                  </div>
                  <div class="panel-build-body">
                    <div id="canvas7" class="canvas7"></div>
                  </div>
                </div>

              </div>
            </div>
            <div class="col-md-6 mb20">
              <div class="building-border border-radius bg-blue p20">
                <div class="panel-build">
                  <div class="panel-build-title mb10">
                    <span>年能耗同比</span>
                  </div>
                  <div class="panel-build-body">
                    <div id="canvas8" class="canvas8"></div>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

      </div>
      <!-- END MAIN CONTENT -->
    </div>
    <!-- END MAIN -->
  </div>
  <!-- END WRAPPER -->
  <!-- Javascript -->
  <script src="../vendor/jquery/jquery.min.js"></script>
  <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="../vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
  <script src="../vendor/select/js/selectordie.min.js"></script>
  <script src="../vendor/eCharts/echarts.min.js"></script>
  <script>
    $(function () {
      $('select').selectOrDie();

      var fakeData5 = {
        'label': ['昨日', '今日'],
        'color': ['#ffa200', '#44b5af'],
        'name': '时间',
        'value': [
          [130, 120, 110, 90, 100, 110, 120, 130, 165, 190, 200, 240, 285, 260, 240, 260, 225, 210, 225, 190, 180, 190, 130, 140],
          [110, 100, 90, 70, 80, 90, 100, 110, 145, 170, 180, 220, 265, 240, 220, 240, 205, 190, 205, 170, 160, 170, 110, 120]
        ],
        'xAxis': ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00', '08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00', '19:00', '20:00', '21:00', '22:00', '23:00'],
        'barWidth': '6px'
      }

      var fakeData6 = {
        'label': ['上月', '本月'],
        'name': '日期',
        'color': ['#ffa200', '#44b5af'],
        'value': [
          [130, 120, 110, 90, 100, 110, 120, 130, 165, 190, 200, 240, 285, 260, 240, 260, 225, 210, 225, 190, 180, 190, 130, 140, 225, 190, 180, 190, 130, 140],
          [110, 100, 90, 70, 80, 90, 100, 110, 145, 170, 180, 220, 265, 240, 220, 240, 205, 190, 205, 170, 160, 170, 110, 120, 205, 170, 160, 170, 110, 120]
        ],
        'xAxis': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30],
        'barWidth': '6px'
      }

      var fakeData7 = {
        'label': ['去年', '今年'],
        'name': '月份',
        'color': ['#ffa200', '#44b5af'],
        'value': [
          [130, 120, 110, 90, 100, 110, 120, 130, 165, 190, 200, 240],
          [110, 100, 90, 70, 80, 90, 100, 110, 145, 170, 180, 220]
        ],
        'xAxis': ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
        'barWidth': '10px'
      }

      var fakeData8 = {
        'value': [130, 110],
        'label': ['2016', '2017']
      }

      function chartData(data) {
        var dataOption = []
        for (var i = 0; i < data.value.length; i++) {
          dataOption.push({
            data: data.value[i],
            name: data.label[i],
            barWidth: data.barWidth,
            type: 'bar',
            itemStyle: {
              normal: {
                color: data.color[i]
              }
            }
          })
        }
        return dataOption
      }

      function canvas5(opt) {
        var myChart = echarts.init(document.getElementById(opt.domId));
        var option = {
          title: {
            text: '',
            subtext: '能耗(M)',
            x: '10px',
            subtextStyle: {
              fontSize: 14,
              color: '#666'
            }
          },
          tooltip: {
            trigger: 'axis',
            padding: [10, 13, 10, 13],
            formatter: function (params) {
              return params[0].axisValueLabel + '<br>' + params[0].seriesName + ': ' + params[0].data + '(M)' + '<br>' + params[1].seriesName + ': ' + params[1].data + '(M)'
            },
            axisPointer: {
              type: 'shadow'
            }
          },
          legend: {
            right: '50px',
            top: '20px',
            data: opt.legendData
          },
          grid: {
            left: '3%',
            right: '8%',
            bottom: '3%',
            containLabel: true
          },
          xAxis: [{
            type: 'category',
            name: opt.xAxisName,
            data: opt.xAxisData
          }],
          yAxis: [{
            type: 'value',
            splitLine: {
              show: false
            },
          }],
          series: opt.seriesData
        };
        myChart.setOption(option);
      }

      function canvas8() {
        var myChart = echarts.init(document.getElementById('canvas8'));
        var option = {
          title: {
            text: '',
            subtext: '能耗(M)',
            x: '10px',
            subtextStyle: {
              fontSize: 14,
              color: '#666'
            }
          },
          tooltip: {
            trigger: 'axis',
            padding: [10, 13, 10, 13],
            formatter: function (params) {
              return params[0].axisValueLabel + '<br>' + params[0].seriesName + ': ' + params[0].data + '(M)'
            },
            axisPointer: { // 坐标轴指示器，坐标轴触发有效
              type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
            }
          },
          grid: {
            left: '3%',
            right: '8%',
            bottom: '3%',
            // width : '1034px',
            containLabel: true
          },
          xAxis: [{
            type: 'category',
            name: '年',
            data: fakeData8.label
          }],
          yAxis: [{
            type: 'value',
            splitLine: {
              show: false
            },
          }],
          series: [{
            name: '月耗能',
            type: 'bar',
            barWidth: '30px',
            itemStyle: {
              normal: {
                color: '#ffa300',
              },
              emphasis: {
                color: '#45b6b0'
              }
            },
            data: fakeData8.value
          }]
        };
        myChart.setOption(option);
      }

      canvas5({
        domId: 'canvas5',
        legendData: fakeData5.label,
        xAxisData: fakeData5.xAxis,
        xAxisName: fakeData5.name,
        seriesData: chartData(fakeData5)
      })
      canvas5({
        domId: 'canvas6',
        legendData: fakeData6.label,
        xAxisData: fakeData6.xAxis,
        xAxisName: fakeData6.name,
        seriesData: chartData(fakeData6)
      })
      canvas5({
        domId: 'canvas7',
        legendData: fakeData7.label,
        xAxisData: fakeData7.xAxis,
        xAxisName: fakeData7.name,
        seriesData: chartData(fakeData7)
      })
      canvas8()
    });
  </script>
  <script src="../scripts/main.js"></script>
</body>

</html>